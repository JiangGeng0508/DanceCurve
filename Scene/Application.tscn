[gd_scene load_steps=3 format=3 uid="uid://ctrar3y6wyvaj"]

[ext_resource type="PackedScene" uid="uid://cpe5vf0fqkhn5" path="res://Scene/SoundEnvelope.tscn" id="1_dk0ox"]
[ext_resource type="Script" uid="uid://b4k2y760nej6k" path="res://Script/Hud.cs" id="2_w4c6f"]

[node name="Application" type="Control"]
z_index = 10
layout_mode = 3
anchors_preset = 0
offset_right = 1280.0
offset_bottom = 720.0

[node name="SoundEnvelope" parent="." instance=ExtResource("1_dk0ox")]
Resolution = Vector2i(640, 480)

[node name="HUD" type="HBoxContainer" parent="."]
z_index = 5
layout_mode = 0
offset_right = 245.0
offset_bottom = 32.0
script = ExtResource("2_w4c6f")

[node name="LocalAudio" type="OptionButton" parent="HUD"]
layout_mode = 2
selected = 0
item_count = 2
popup/item_0/text = "maldita"
popup/item_0/id = 0
popup/item_1/text = "Ludum"
popup/item_1/id = 1

[node name="NewAudio" type="Button" parent="HUD"]
layout_mode = 2
text = "Open"

[node name="FileDialog" type="FileDialog" parent="HUD/NewAudio"]
oversampling_override = 1.0
title = "Open a File"
initial_position = 2
ok_button_text = "Confirm"
file_mode = 0
display_mode = 1
access = 2
filters = PackedStringArray("*.ogg", "*.mp3", "*.wav")
hidden_files_toggle_enabled = false
folder_creation_enabled = false

[node name="Pause" type="CheckButton" parent="HUD"]
layout_mode = 2
text = "Pause"

[node name="IdleTimer" type="Timer" parent="HUD"]
one_shot = true

[connection signal="ChangeAudio" from="HUD" to="SoundEnvelope" method="UpdateAudioStream"]
[connection signal="ShowFileWindow" from="HUD" to="HUD/NewAudio/FileDialog" method="show"]
[connection signal="item_selected" from="HUD/LocalAudio" to="HUD" method="OnLocalAudioSelected"]
[connection signal="pressed" from="HUD/NewAudio" to="HUD" method="OnNewAudioButtenPressed"]
[connection signal="close_requested" from="HUD/NewAudio/FileDialog" to="HUD/NewAudio/FileDialog" method="hide"]
[connection signal="confirmed" from="HUD/NewAudio/FileDialog" to="HUD" method="OnFileConfirmed"]
[connection signal="file_selected" from="HUD/NewAudio/FileDialog" to="HUD" method="OnFileSelected"]
[connection signal="toggled" from="HUD/Pause" to="SoundEnvelope" method="OnPause"]
[connection signal="timeout" from="HUD/IdleTimer" to="HUD" method="OnIdleTimerTimeout"]
